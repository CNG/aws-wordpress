# Amazon Web Services + WordPress CodeDeploy configuration

<p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.wbovldvpoeq6"></a><span>Set up IAM user for Github</span></h2><ol class="c2 lst-kix_qzs1w58ull57-0 start" start="1"><li class="c0 c10"><span>On the </span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://console.aws.amazon.com/iam&amp;sa=D&amp;usg=AFQjCNGEi_A0lYwQKTtnkaMijAQ0K6-0Fw">IAM main page</a></span><span>, click &ldquo;Users&rdquo; on the left menu.</span></li><li class="c0 c10"><span>Click &ldquo;Create New Users&rdquo;.</span></li><li class="c0 c10"><span>Enter &ldquo;github&rdquo; into the first box and click &ldquo;Create&rdquo;..</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 661.50px; height: 282.75px;"><img alt="" src="images/image23.png" style="width: 661.50px; height: 282.75px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Click &ldquo;Show User Security Credentials&rdquo; and note the values for both &ldquo;Access Key ID&rdquo; and &ldquo;Secret Access Key&rdquo;. We will use these values below under the &ldquo;Calling AWS CodeDeploy from GitHub&rdquo; section.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 567.00px; height: 217.00px;"><img alt="" src="images/image19.png" style="width: 567.00px; height: 217.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Click &ldquo;Close,&rdquo; as we do not need to download the credentials. Confirm by clicking &ldquo;Close&rdquo; again.<br> </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 636.50px; height: 56.26px;"><img alt="" src="images/image02.png" style="width: 636.50px; height: 56.26px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Back at the user listing screen, click the newly created &ldquo;github&rdquo; user.</span></li><li class="c0 c10"><span>Under &ldquo;Permissions&rdquo;, click the arrow next to &ldquo;Inline Policies&rdquo; to reveal the link to create an inline policy. Click the &ldquo;click here&rdquo; link.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 613.50px; height: 246.78px;"><img alt="" src="images/image01.png" style="width: 613.50px; height: 246.78px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>On the &ldquo;Set Permissions&rdquo; screen, select the radio button next to &ldquo;Custom Policy&rdquo; and click the &ldquo;Select&rdquo; button.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 615.50px; height: 214.87px;"><img alt="" src="images/image11.png" style="width: 615.50px; height: 214.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Review Policy</span></li></ol><ol class="c2 lst-kix_qzs1w58ull57-1 start" start="1"><li class="c0 c7"><span>Policy Name: CodeDeploy-Access</span></li><li class="c0 c7"><span>Policy Document:</span></li></ol><a href="#" name="535a35e4fe3e1ff92447d006453fa3325183279e"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c13"><td class="c23" colspan="1" rowspan="1"><p class="c20 c0"><span class="c1">{</span><span class="c5"><br> &nbsp;</span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2012-10-17&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c1">{</span><span class="c5"><br> &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;codedeploy:*&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;*&quot;</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c1">}</span><span class="c5"><br> &nbsp;</span><span class="c1">]</span><span class="c14 c5"><br>}</span></p></td></tr></tbody></table><ol class="c2 lst-kix_qzs1w58ull57-1" start="3"><li class="c0 c7"><span>Click &ldquo;Accept Policy&rdquo;.</span></li></ol><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.nj9cxo776ou2"></a><span>Set up IAM role for EC2 instances</span></h2><ol class="c2 lst-kix_ny18wmoqeabm-0 start" start="1"><li class="c0 c10"><span>On the </span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://console.aws.amazon.com/iam&amp;sa=D&amp;usg=AFQjCNGEi_A0lYwQKTtnkaMijAQ0K6-0Fw">IAM main page</a></span><span>, click &ldquo;Roles&rdquo; on the left menu.</span></li><li class="c0 c10"><span>Click &ldquo;Create New Role&rdquo;<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 676.50px; height: 149.04px;"><img alt="" src="images/image09.png" style="width: 676.50px; height: 149.04px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1 start" start="1"><li class="c0 c7"><span>Step 1: Set Role Name</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Role Name: CodeDeployEC2</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="2"><li class="c0 c7"><span>Step 2: Select Role Type</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Select&rdquo; next to &ldquo;Amazon EC2<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 579.50px; height: 307.37px;"><img alt="" src="images/image10.png" style="width: 579.50px; height: 307.37px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="3"><li class="c0 c7"><span>Step 3: Establish Trust (gets skipped automatically)</span></li><li class="c0 c7"><span>Step 4: Attach Policy</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Next Step&rdquo; without selecting a policy.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="5"><li class="c0 c7"><span>Step 5: Review</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Create Role&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 578.50px; height: 189.53px;"><img alt="" src="images/image35.png" style="width: 578.50px; height: 189.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="6"><li class="c0 c7"><span>Click the newly created policy on the listing screen.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.50px; height: 129.60px;"><img alt="" src="images/image27.png" style="width: 624.50px; height: 129.60px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Under &ldquo;Permissions&rdquo;, click the arrow next to &ldquo;Inline Policies&rdquo; to reveal the link to create an inline policy. Click the &ldquo;click here&rdquo; link.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 613.50px; height: 246.78px;"><img alt="" src="images/image01.png" style="width: 613.50px; height: 246.78px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>On the &ldquo;Set Permissions&rdquo; screen, select the radio button next to &ldquo;Custom Policy&rdquo; and click the &ldquo;Select&rdquo; button.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 615.50px; height: 214.87px;"><img alt="" src="images/image11.png" style="width: 615.50px; height: 214.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Review Policy</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Policy Name: InstanceRole</span></li><li class="c0 c17"><span>Policy Document:</span></li></ol><a href="#" name="7c491b22c0ce2b858345ee03cb598ce179fe83f9"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c13"><td class="c23" colspan="1" rowspan="1"><p class="c20 c19"><span class="c14 c5">{</span></p><p class="c20 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c20 c19"><span class="c14 c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;*&quot;,</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:Describe*&quot;,</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;cloudformation:Describe*&quot;,</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;cloudformation:GetTemplate&quot;,</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;s3:Get*&quot;</span></p><p class="c20 c19"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c19 c20"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span></p><p class="c20 c19"><span class="c14 c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c20 c19"><span class="c14 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c20 c0"><span class="c14 c5">}</span></p></td></tr></tbody></table><ol class="c2 lst-kix_ny18wmoqeabm-2" start="3"><li class="c0 c17"><span>Click &ldquo;Accept Policy&rdquo;.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="10"><li class="c0 c7"><span>Under &ldquo;Trust Relationships&rdquo;, &ldquo;The identity provider(s) ec2.amazonaws.com&rdquo; should already be listed under &ldquo;Trusted Entities&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 609.50px; height: 627.11px;"><img alt="" src="images/image04.png" style="width: 609.50px; height: 627.11px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.p7lc7b9swa4a"></a><span>Set up IAM role for CodeDeploy</span></h2><ol class="c2 lst-kix_ny18wmoqeabm-0" start="3"><li class="c0 c10"><span>On the </span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://console.aws.amazon.com/iam&amp;sa=D&amp;usg=AFQjCNGEi_A0lYwQKTtnkaMijAQ0K6-0Fw">IAM main page</a></span><span>, click &ldquo;Roles&rdquo; on the left menu.</span></li><li class="c0 c10"><span>Click &ldquo;Create New Role&rdquo;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 666.50px; height: 127.50px;"><img alt="" src="images/image16.png" style="width: 666.50px; height: 127.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span><br></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1 start" start="1"><li class="c0 c7"><span>Step 1: Set Role Name</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Role Name: CodeDeployWordPress</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="2"><li class="c0 c7"><span>Step 2: Select Role Type</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Select&rdquo; next to &ldquo;Amazon EC2<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 579.50px; height: 307.37px;"><img alt="" src="images/image10.png" style="width: 579.50px; height: 307.37px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="3"><li class="c0 c7"><span>Step 3: Establish Trust (gets skipped automatically)</span></li><li class="c0 c7"><span>Step 4: Attach Policy</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Next Step&rdquo; without selecting a policy.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="5"><li class="c0 c7"><span>Step 5: Review</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Click &ldquo;Create Role&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 576.21px; height: 179.50px;"><img alt="" src="images/image24.png" style="width: 576.21px; height: 179.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="6"><li class="c0 c7"><span>Click the newly created policy on the listing screen.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 600.50px; height: 176.66px;"><img alt="" src="images/image30.png" style="width: 600.50px; height: 176.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Under &ldquo;Permissions&rdquo;, click the arrow next to &ldquo;Inline Policies&rdquo; to reveal the link to create an inline policy. Click the &ldquo;click here&rdquo; link.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 613.50px; height: 246.78px;"><img alt="" src="images/image01.png" style="width: 613.50px; height: 246.78px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>On the &ldquo;Set Permissions&rdquo; screen, select the radio button next to &ldquo;Custom Policy&rdquo; and click the &ldquo;Select&rdquo; button.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 615.50px; height: 214.87px;"><img alt="" src="images/image11.png" style="width: 615.50px; height: 214.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Review Policy</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Policy Name: CodeDeployPolicy</span></li><li class="c0 c17"><span>Policy Document:</span></li></ol><a href="#" name="abd83e79270ff27733b951a148954d0c60b02975"></a><a href="#" name="2"></a><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c13"><td class="c23" colspan="1" rowspan="1"><p class="c6 c0"><span class="c14 c5">{</span></p><p class="c6 c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;ec2:Describe*&quot;</span></p><p class="c6 c0"><span class="c5 c14">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:CompleteLifecycleAction&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DeleteLifecycleHook&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DescribeLifecycleHooks&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DescribeAutoScalingGroups&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:PutLifecycleHook&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:RecordLifecycleActionHeartbeat&quot;</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0 c6"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getResources&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTags&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTagsForResource&quot;,</span></p><p class="c6 c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTagsForResourceList&quot;</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c6 c0"><span class="c14 c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c6 c0"><span class="c14 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c20 c0"><span class="c14 c5">}</span></p></td></tr></tbody></table><ol class="c2 lst-kix_ny18wmoqeabm-2" start="3"><li class="c0 c17"><span>Click &ldquo;Accept Policy&rdquo;.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="10"><li class="c0 c7"><span>Under &ldquo;Trust Relationships&rdquo;, click &ldquo;Edit Trust Relationship&rdquo;.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-2 start" start="1"><li class="c0 c17"><span>Replace the policy document with the following:<br></span></li></ol><a href="#" name="9b435473e95187a7bebea3b6a0099be246a298d4"></a><a href="#" name="3"></a><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c13"><td class="c23" colspan="1" rowspan="1"><p class="c6 c19"><span class="c14 c5">{</span></p><p class="c6 c19"><span class="c5">&nbsp;</span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;,</span></p><p class="c6 c19"><span class="c5">&nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;[</span></p><p class="c6 c19"><span class="c14 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c6 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Sid&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;1&quot;,</span></p><p class="c6 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c6 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Principal&quot;</span><span class="c1">:</span><span class="c14 c5">&nbsp;{</span></p><p class="c6 c19"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Service&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;codedeploy.amazonaws.com&quot;</span></p><p class="c6 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c6 c19"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;sts:AssumeRole&quot;</span></p><p class="c6 c19"><span class="c14 c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c6 c19"><span class="c14 c5">&nbsp;]</span></p><p class="c20 c19"><span class="c14 c5">}</span></p></td></tr></tbody></table><ol class="c2 lst-kix_ny18wmoqeabm-2" start="2"><li class="c0 c17"><span>Click &ldquo;Update Trust Policy&rdquo;.</span></li><li class="c0 c17"><span>&ldquo;The identity provider(s) codedeploy.amazonaws.com&rdquo; should now be listed under &ldquo;Trusted Entities&rdquo;.</span></li></ol><ol class="c2 lst-kix_ny18wmoqeabm-1" start="11"><li class="c0 c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 758.00px; height: 705.33px;"><img alt="" src="images/image26.png" style="width: 758.00px; height: 705.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.sf45ulukjezk"></a><span>Set up EC2 instance</span></h2><ol class="c2 lst-kix_td7jmalm3pno-0 start" start="1"><li class="c0 c10"><span>On the EC2 main page (us-west-2), click &ldquo;Instances&rdquo; on the left menu and then click &ldquo;Launch Instance&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 665.50px; height: 78.14px;"><img alt="" src="images/image06.png" style="width: 665.50px; height: 78.14px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Step 1: Choose an Amazon Machine Image (AMI)</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Click &ldquo;Select&rdquo; next to &ldquo;Ubuntu Server 14.04 LTS (HVM), SSD Volume Type&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 600.50px; height: 135.90px;"><img alt="" src="images/image12.png" style="width: 600.50px; height: 135.90px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="3"><li class="c0 c10"><span>Step 2: Choose an Instance Type</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Select m3.large and click &ldquo;Next: Configure Instance Details&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 564.50px; height: 32.77px;"><img alt="" src="images/image03.png" style="width: 564.50px; height: 32.77px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="4"><li class="c0 c10"><span>Step 3: Configure Instance Details</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Number of Instances: 1</span></li><li class="c0 c7"><span>IAM role: CodeDeployEC2 (created above)</span></li><li class="c0 c7"><span>Enable termination protection: Protect against accidental termination</span></li><li class="c0 c7"><span>Monitoring: Enable CloudWater detailed monitoring</span></li><li class="c0 c7"><span>Click &ldquo;Next: Add Storage&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 593.55px; height: 420.50px;"><img alt="" src="images/image32.png" style="width: 593.55px; height: 420.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="5"><li class="c0 c10"><span>Step 4: Add Storage</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Remove the &ldquo;Instance Store&rdquo; line item by clicking the &ldquo;X&rdquo; if applicable.</span></li><li class="c0 c7"><span>Change the root volume to 80 GB.</span></li><li class="c0 c7"><span>Uncheck the &ldquo;Delete on Termination&rdquo; checkbox.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 619.98px; height: 141.50px;"><img alt="" src="images/image18.png" style="width: 619.98px; height: 141.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Click &ldquo;Next: Tag Instance&rdquo;.</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="6"><li class="c0 c10"><span>Step 5: Tag Instance</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Ensure &ldquo;Name&rdquo; is entered in the &ldquo;Key&rdquo; box of Row 1, and enter &ldquo;WordPress&rdquo; in the &ldquo;Value&rdquo; box.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 622.50px; height: 138.23px;"><img alt="" src="images/image05.png" style="width: 622.50px; height: 138.23px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Click &ldquo;Next: Configure Security Group&rdquo;.</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="7"><li class="c0 c10"><span>Step 6: Configure Security Group</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Next to &ldquo;Assign a security group&rdquo;, click the radio button next to &ldquo;Select an existing security group&rdquo;. Then check the box next to the &ldquo;WordPress&rdquo; item created previously.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 625.34px; height: 165.50px;"><img alt="" src="images/image34.png" style="width: 625.34px; height: 165.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Click &ldquo;Review and Launch&rdquo;.</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="8"><li class="c0 c10"><span>Step 7: Review Instance Launch</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>Click &ldquo;Launch&rdquo; after confirming the settings.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 618.50px; height: 221.94px;"><img alt="" src="images/image29.png" style="width: 618.50px; height: 221.94px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 613.50px; height: 242.00px;"><img alt="" src="images/image15.png" style="width: 613.50px; height: 242.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 614.50px; height: 311.30px;"><img alt="" src="images/image20.png" style="width: 614.50px; height: 311.30px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 614.50px; height: 201.05px;"><img alt="" src="images/image36.png" style="width: 614.50px; height: 201.05px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="9"><li class="c0 c10"><span>Select an existing key pair or create a new key pair</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-1 start" start="1"><li class="c0 c7"><span>From the drop down, select &ldquo;Create a new key pair&rdquo;.</span></li><li class="c0 c7"><span>Key pair name: WordPress</span></li><li class="c0 c7"><span>Click &ldquo;Download Key Pair&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 537.50px; height: 396.65px;"><img alt="" src="images/image00.png" style="width: 537.50px; height: 396.65px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c7"><span>Save the PEM file somewhere safe.</span></li><li class="c0 c7"><span>Click &ldquo;Launch Instances&rdquo;.</span></li></ol><ol class="c2 lst-kix_td7jmalm3pno-0" start="10"><li class="c0 c10"><span>Once launched, navigate to the EC2 instance listing screen and select the new instance. Note the IP address and connect to it by SSH using a command like:<br>ssh -i ~/Downloads/WordPress.pem </span><span class="c18"><a class="c4" href="mailto:ubuntu@xxx.xxx.xxx.xxx">ubuntu@xxx.xxx.xxx.xxx</a></span></li><li class="c0 c10"><span>Run the following commands (or run the full command list at </span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://github.com/clientname/clientname-wp/wiki/DEV-server-setup&amp;sa=D&amp;usg=AFQjCNE76BdDmlHm2o7W5oLQBRuc5iI15w">https://github.com/clientname/clientname-wp/wiki/DEV-server-setup</a></span><span>&nbsp;):</span></li></ol><a href="#" name="dbfb2a38fa190edc2edb6bd231744a02a970afcd"></a><a href="#" name="4"></a><table cellpadding="0" cellspacing="0" class="c12"><tbody><tr class="c13"><td class="c23" colspan="1" rowspan="1"><p class="c20 c19"><span class="c5">sudo apt</span><span class="c1">-</span><span class="c21">get</span><span class="c14 c5">&nbsp;update</span></p><p class="c20 c19"><span class="c5">sudo apt</span><span class="c1">-</span><span class="c21">get</span><span class="c5">&nbsp;</span><span class="c1">-</span><span class="c5">y install awscli ruby2</span><span class="c1">.0</span></p><p class="c20 c19"><span class="c14 c5">sudo aws configure</span></p><p class="c20 c19"><span class="c24">#AWS Access Key ID [None]:</span></p><p class="c20 c19"><span class="c24">#AWS Secret Access Key [None]:</span></p><p class="c20 c19"><span class="c24">#Default region name [None]: uw-west-2</span></p><p class="c20 c19"><span class="c24">#Default output format [None]: json</span></p><p class="c20 c19"><span class="c5">cd </span><span class="c1">/</span><span class="c5">home</span><span class="c1">/</span><span class="c14 c5">ubuntu</span></p><p class="c20 c19"><span class="c24">#If we are in Oregon</span></p><p class="c20 c19"><span class="c5">sudo aws s3 cp s3</span><span class="c1">:</span><span class="c24">//aws-codedeploy-us-west-2/latest/install . --region us-west-2</span></p><p class="c20 c19"><span class="c24">#If we are in Virginia</span></p><p class="c20 c19"><span class="c24">#sudo aws s3 cp s3://aws-codedeploy-us-east-1/latest/install . --region us-east-1</span></p><p class="c20 c19"><span class="c5">sudo chmod </span><span class="c1">+</span><span class="c5">x </span><span class="c1">./</span><span class="c14 c5">install</span></p><p class="c20 c19"><span class="c5">sudo </span><span class="c1">./</span><span class="c5">install </span><span class="c21">auto</span></p><p class="c20 c19"><span class="c5">sudo service codedeploy</span><span class="c1">-</span><span class="c14 c5">agent status</span></p><p class="c20 c19"><span class="c24"># The AWS CodeDeploy agent is running as PID 5777</span></p></td></tr></tbody></table><ol class="c2 lst-kix_c8z1h5m2vgce-0 start" start="1"><li class="c0 c10"><span>Add the instance to the elastic IP associated with the domain name.</span></li></ol><h2 class="c0 c9"><a name="h.rgvbzrjdfztg"></a><span>Set up CodeDeploy application and deployment</span></h2><ol class="c2 lst-kix_7wax3zl94t0p-0 start" start="1"><li class="c0 c10"><span>On the CodeDeploy main page (</span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://us-west-2.console.aws.amazon.com/codedeploy/home?region%3Dus-west-2&amp;sa=D&amp;usg=AFQjCNGDNzzP7zCqcL3Jr3jF9eci4PG-5A">us-west-2</a></span><span>), click &ldquo;Get Started Now&rdquo; if this is the first deployment.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 656.50px; height: 252.03px;"><img alt="" src="images/image14.png" style="width: 656.50px; height: 252.03px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span><br></span></li><li class="c0 c10"><span>If the &ldquo;Welcome to AWS CodeDeploy&rdquo; screen appears, select &ldquo;Custom Deployment&rdquo; and then click &ldquo;Skip Walkthrough&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 667.97px; height: 300.50px;"><img alt="" src="images/image28.png" style="width: 667.97px; height: 300.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span><br></span></li><li class="c0 c10"><span>On the &ldquo;Create New Application&rdquo; screen:</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-1 start" start="1"><li class="c0 c7"><span>Application Name: wordpress</span></li><li class="c0 c7"><span>Deployment Group Name: develop</span></li><li class="c0 c7"><span>Add Instances</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-2 start" start="1"><li class="c0 c17"><span>Search by Tags</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-3 start" start="1"><li class="c0 c25"><span>Tag Type: Amazon EC2</span></li><li class="c0 c25"><span>Key: Name</span></li><li class="c0 c25"><span>Value: WordPress</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-1" start="4"><li class="c0 c7"><span>Deployment Configuration</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-2 start" start="1"><li class="c0 c17"><span>Deployment Config*: CodeDeployDefault.OneAtATime</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-1" start="5"><li class="c0 c7"><span>Service Role</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-2 start" start="1"><li class="c0 c17"><span>Service Role ARN*: Select the item ending with &ldquo;CodeDeployWordPress&rdquo;.</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-1" start="6"><li class="c0 c7"><span>Click &ldquo;Create Application&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 612.17px; height: 816.50px;"><img alt="" src="images/image08.png" style="width: 612.17px; height: 816.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-0" start="4"><li class="c0 c10"><span>You should end up on the &ldquo;wordpress&rdquo; application screen. Click the down arrow next to the &ldquo;develop&rdquo; deployment group and click the &ldquo;Deploy New Revision&rdquo; button.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 655.50px; height: 270.67px;"><img alt="" src="images/image13.png" style="width: 655.50px; height: 270.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>On the &ldquo;Create New Deployment&rdquo; screen, next to &ldquo;Revision Type*&rdquo;, click the radio button next to &ldquo;My application is stored in GitHub&rdquo;. Then click &ldquo;Connect With GitHub&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 663.50px; height: 450.79px;"><img alt="" src="images/image17.png" style="width: 663.50px; height: 450.79px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Follow the instructions in the popup dialog to log into GitHub and provide the permissions.</span></li><li class="c0 c10"><span>Fill out the fields:</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-1 start" start="1"><li class="c0 c7"><span>Application: wordpress</span></li><li class="c0 c7"><span>Deployment Group: develop</span></li><li class="c0 c7"><span>Repository Name: clientname/clientname-wp</span></li><li class="c0 c7"><span>Commit ID: 99880f0ae690e38a082120f16bc290c2a58f30ab</span></li><li class="c0 c7"><span>Deployment Config: CodeDeployDefault.OneAtATime</span></li></ol><ol class="c2 lst-kix_7wax3zl94t0p-0" start="8"><li class="c0 c10"><span>Click &ldquo;Deploy Now&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 653.43px; height: 540.50px;"><img alt="" src="images/image21.png" style="width: 653.43px; height: 540.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>If lucky, observe success message.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 649.50px; height: 274.20px;"><img alt="" src="images/image07.png" style="width: 649.50px; height: 274.20px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.5rha02123ivl"></a><span>Calling AWS CodeDeploy from GitHub</span></h2><ol class="c2 lst-kix_z6zyrq3gfvo0-0 start" start="1"><li class="c0 c10"><span>Click </span><span class="c11">Apply Policy</span><span>. Now you&rsquo;re ready to configure the AWS CodeDeploy service hook on GitHub. From the home page for your GitHub repository, click on the </span><span class="c11">Settings</span><span>&nbsp;tab.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 134.67px; height: 54.67px;"><img alt="" src="images/image33.png" style="width: 134.67px; height: 54.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>On the </span><span class="c11">Settings</span><span>&nbsp;page, click the </span><span class="c11">Webhooks &amp; Services</span><span>&nbsp;tab. Then in the </span><span class="c11">Services</span><span>&nbsp;section, click the </span><span class="c11">Add Service</span><span>&nbsp;drop-down, and select </span><span class="c11">AWS CodeDeploy</span><span>. On the service hook page, enter the information needed to call CodeDeploy:</span></li></ol><ol class="c2 lst-kix_z6zyrq3gfvo0-1 start" start="1"><li class="c0 c7"><span>Application name: wordpress</span></li><li class="c0 c7"><span>Deployment group: develop</span></li><li class="c0 c7"><span>Aws access key: from above</span></li><li class="c0 c7"><span>AWS region: us-west-2</span></li><li class="c0 c7"><span>GitHub api url: leave blank</span></li><li class="c0 c7"><span>Aws secret access key: from above</span></li><li class="c0 c7"><span>GitHub token: leave blank</span></li><li class="c0 c7"><span>Active: check box</span></li></ol><ol class="c2 lst-kix_z6zyrq3gfvo0-0" start="3"><li class="c0 c10"><span>Click &ldquo;Add service&rdquo;.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 345.33px; height: 476.00px;"><img alt="" src="images/image31.png" style="width: 345.33px; height: 476.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li></ol><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.is7nv1dy7svr"></a><span>Automatically Starting Deployments from GitHub</span></h2><ol class="c2 lst-kix_r09a4d5dmmox-0 start" start="1"><li class="c0 c10"><span>You first need to create a GitHub personal access token for the Auto-Deployment service to trigger a repository deployment. Go to the</span><span><a class="c4" href="https://www.google.com/url?q=https://github.com/settings/applications&amp;sa=D&amp;usg=AFQjCNFAiizg4XYqbr7h-dwKpJltDJidrw">&nbsp;</a></span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://github.com/settings/applications&amp;sa=D&amp;usg=AFQjCNFAiizg4XYqbr7h-dwKpJltDJidrw">Applications</a></span><span>&nbsp;tab in the </span><span class="c11">Personal Settings</span><span>&nbsp;page for your GitHub account. In the </span><span class="c11">Personal Access Tokens</span><span>&nbsp;section, click </span><span class="c11">Generate New Token</span><span>. Enter &ldquo;AutoDeploy&rdquo; for the </span><span class="c11">Token Description</span><span>, uncheck all of the scope boxes, and check only the </span><span class="c11">repo_deployment</span><span>&nbsp;scope.<br></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 462.67px; height: 297.33px;"><img alt="" src="images/image25.png" style="width: 462.67px; height: 297.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>Click </span><span class="c11">Generate token</span><span>. On the next page, copy the newly generated personal access token from the list, and store it in a safe place with the AWS access keys from before. You won&rsquo;t be able to access this token again.</span></li><li class="c0 c10"><span>Now you need to configure the GitHub Auto-Deployment service hook on GitHub. From the home page for your GitHub repository, click on the </span><span class="c11">Settings</span><span>&nbsp;tab. On the </span><span class="c11">Settings</span><span>&nbsp;page, click the </span><span class="c11">Webhooks &amp; Services</span><span>&nbsp;tab. Then in the </span><span class="c11">Services</span><span>&nbsp;section, click the </span><span class="c11">Add Service</span><span>&nbsp;drop-down, and select </span><span class="c11">GitHub Auto-Deployment</span><span>. On the service hook page, enter the information needed to call GitHub, including the personal access token and target deployment group for CodeDeploy.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 345.33px; height: 336.00px;"><img alt="" src="images/image22.png" style="width: 345.33px; height: 336.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 c10"><span>After entering this information, click </span><span class="c11">Add Service</span><span>.</span></li><li class="c0 c10"><span>Note there is no way to configure the branch used. The default branch is always used.</span></li></ol><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0"><span>Allow EC2 instance to access EC2 AWS CLI commands</span></p><p class="c0 c8"><span></span></p><p class="c0"><span>Added this to existing IAM Role CodeDeployEC2 InstanceRole:</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:DescribeVolumes&quot;,</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:CreateSnapshot&quot;,</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:DescribeSnapshots&quot;,</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:DeleteSnapshot&quot;,</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:CreateTags&quot;,</span></p><p class="c0"><span>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ec2:DescribeTags&quot;</span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><p class="c0 c8"><span></span></p><h1 class="c0 c9"><a name="h.2lkd518xlukw"></a><span>CodeDeploy Example Setup</span></h1><p class="c0 c8"><span></span></p><p class="c0"><span class="c11">Instance settings</span></p><ul class="c2 lst-kix_w6yxn841fr7-0 start"><li class="c0 c10"><span>OS: Amazon Linux</span></li><li class="c0 c10"><span>Type: t1.micro</span></li><li class="c0 c10"><span>Key Pair Name: charlie</span></li><li class="c0 c10"><span>Tag Key and Value: Name=CodeDeployDemo</span></li></ul><p class="c0"><span class="c11">CloudFormation actions</span></p><ul class="c2 lst-kix_mzc71x2hapyz-0 start"><li class="c0 c10"><span>IAM Role (</span><span class="c18"><a class="c4" href="https://www.google.com/url?q=https://us-west-2.console.aws.amazon.com/iam/home?region%3Dus-west-2%23roles/CodeDeploySampleStack-4rocm-InstanceRole-EX75ZRUG8DX9&amp;sa=D&amp;usg=AFQjCNEBEzmBVcgQCTkqwqkAKJriH_9F5w">CodeDeploySampleStack-4rocm-InstanceRole-EX75ZRUG8DX9</a></span><span>)</span></li><li class="c0 c10"><span>EC2 Security Group</span></li><li class="c0 c10"><span>IAM Policy</span></li><li class="c0 c10"><span>IAM Instance Profile</span></li><li class="c0 c10"><span>EC2 Instance</span></li></ul><p class="c0"><span class="c11">CodeDeploy</span></p><ul class="c2 lst-kix_h1a2jat8fype-0 start"><li class="c0 c10"><span>Application Name: DemoApplication</span></li><li class="c0 c10"><span class="c11">Revision</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1 start"><li class="c0 c7"><span>Revision Type</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-2 start"><li class="c0 c17"><span>Sample Amazon Linux Application</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1"><li class="c0 c7"><span>Revision Location</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-2 start"><li class="c0 c17"><span>https://s3-us-west-2.amazonaws.com/aws-codedeploy-us-west-2/samples/latest/SampleApp_Linux.zip</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1"><li class="c0 c7"><span>Revision Description</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-2 start"><li class="c0 c17"><span>Sample web page for Amazon Linux. To view the sample web page after deployment, from your web browser go to http://&lt;Public DNS&gt;, for example </span><span class="c18"><a class="c4" href="https://www.google.com/url?q=http://ec2-12-345-678-901.compute-1.amazonaws.com&amp;sa=D&amp;usg=AFQjCNEWGrPQfme5ljR3LwyVt90oGLAbIQ">http://ec2-12-345-678-901.compute-1.amazonaws.com</a></span><span>.</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-0"><li class="c0 c10"><span class="c11">Deployment Group</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1 start"><li class="c0 c7"><span>Name: DemoFleet</span></li><li class="c0 c7"><span>Instances: Name=CodeDeployDemo</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-0"><li class="c0 c10"><span class="c11">Service Role</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1 start"><li class="c0 c7"><span>Select an existing service role that allows AWS CodeDeploy to work with other dependent AWS services on your behalf during a deployment.</span></li><li class="c0 c7"><span class="c22">Create</span><span class="c5">&nbsp;</span><span class="c21">new</span><span class="c1">,</span><span class="c5">&nbsp;role name</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c22">CodeDeploy_DemoApplication</span><span class="c5"><br></span><span class="c1">{</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">{</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;*&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">],</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;ec2:Describe*&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">]</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">},</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">{</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;*&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">],</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:CompleteLifecycleAction&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:DeleteLifecycleHook&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:DescribeLifecycleHooks&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:DescribeAutoScalingGroups&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:PutLifecycleHook&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;autoscaling:RecordLifecycleActionHeartbeat&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">]</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">},</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">{</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;*&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">],</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c1">[</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Tag:getResources&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Tag:getTags&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Tag:getTagsForResource&quot;</span><span class="c1">,</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c3">&quot;Tag:getTagsForResourceList&quot;</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">]</span><span class="c5"><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c1">}</span><span class="c5"><br> &nbsp; &nbsp;</span><span class="c1">]</span><span class="c5"><br>}</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-0"><li class="c0 c10"><span class="c11">Deployment Configuration</span></li></ul><ul class="c2 lst-kix_h1a2jat8fype-1 start"><li class="c0 c7"><span>Default One at a Time</span></li></ul><p class="c0 c8"><span></span></p><h2 class="c0 c9"><a name="h.buulw25jxk94"></a><span>Resulting Configuration</span></h2><p class="c0 c8"><span></span></p><p class="c0"><span>Resulting EC2 servers did not have a ~/.aws directory, so there was also no config file inside. This leads me to think the setup is not dependent on a specific AWS user&rsquo;s key and secret, unless there is something special about the example setup. </span></p><p class="c0 c8"><span></span></p><h3 class="c0 c9"><a name="h.tkogugn3ieal"></a><span>IAM Roles</span></h3><p class="c0 c8"><span class="c11"></span></p><p class="c0"><span class="c18 c11"><a class="c4" href="https://www.google.com/url?q=https://us-west-2.console.aws.amazon.com/iam/home?region%3Dus-west-2%23roles/CodeDeploySampleStack-4rocm-InstanceRole-EX75ZRUG8DX9&amp;sa=D&amp;usg=AFQjCNEBEzmBVcgQCTkqwqkAKJriH_9F5w">CodeDeploySampleStack-4rocm-InstanceRole-EX75ZRUG8DX9</a></span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c11">Permissions: Inline Policies</span></p><p class="c0 c8"><span></span></p><p class="c0"><span>Policy Name: InstanceRole</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c5">{</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;*&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:Describe*&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;cloudformation:Describe*&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;cloudformation:GetTemplate&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;s3:Get*&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0"><span class="c5">}</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c11">Trust Relationships</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c5">{</span></p><p class="c0"><span class="c5">&nbsp; </span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;,</span></p><p class="c0"><span class="c5">&nbsp; </span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Sid&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Principal&quot;</span><span class="c1">:</span><span class="c5">&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Service&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;ec2.amazonaws.com&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;sts:AssumeRole&quot;</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span class="c5">&nbsp; ]</span></p><p class="c0"><span class="c5">}</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c11">CodeDeploy_DemoApplication</span></p><p class="c0 c8"><span class="c11"></span></p><p class="c0"><span class="c11">Permissions: Inline Policies</span></p><p class="c0 c8"><span></span></p><p class="c0"><span>Policy Name: CodeDeployPolicy</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c5">{</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;,</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;ec2:Describe*&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:CompleteLifecycleAction&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DeleteLifecycleHook&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DescribeLifecycleHooks&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:DescribeAutoScalingGroups&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:PutLifecycleHook&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;autoscaling:RecordLifecycleActionHeartbeat&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Resource&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;*&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">],</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getResources&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTags&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTagsForResource&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Tag:getTagsForResourceList&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</span></p><p class="c0"><span class="c5">}</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c11">Trust Relationships</span></p><p class="c0 c8"><span></span></p><p class="c0"><span class="c5">{</span></p><p class="c0"><span class="c5">&nbsp; </span><span class="c3">&quot;Version&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;2008-10-17&quot;,</span></p><p class="c0"><span class="c5">&nbsp; </span><span class="c3">&quot;Statement&quot;</span><span class="c1">:</span><span class="c5">&nbsp;[</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Sid&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;1&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Effect&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;Allow&quot;,</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Principal&quot;</span><span class="c1">:</span><span class="c5">&nbsp;{</span></p><p class="c0"><span class="c5">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Service&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;codedeploy.amazonaws.com&quot;</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">},</span></p><p class="c0"><span class="c5">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&quot;Action&quot;</span><span class="c1">:</span><span class="c5">&nbsp;</span><span class="c3">&quot;sts:AssumeRole&quot;</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span class="c5">&nbsp; ]</span></p><p class="c0"><span class="c5">}</span></p><h3 class="c0 c9"><a name="h.y6t2rgyw6fyh"></a><span>IAM Policies</span></h3><p class="c0 c8"><span></span></p><p class="c0"><span>None seem to be selected and attached. Only two policies are attached and they are the same as before, and none of the ones with &ldquo;CodeDeploy&rdquo; in the name are attached.</span></p><p class="c0 c8"><span></span></p><h3 class="c0 c9"><a name="h.15m3buouwgbr"></a><span>EC2 Security Groups</span></h3><p class="c0 c8"><span></span></p><p class="c0"><span>CodeDeploySampleStack-4rocm-SecurityGroup-KFZPG1TCMMSS</span></p><p class="c0 c8"><span></span></p><p class="c0"><span>Just allows ports 22 and 80 in, all out.</span></p><p class="c0"><span class="c11">Tags</span></p><ul class="c2 lst-kix_ohs0o3zi12ai-0 start"><li class="c0 c10"><span>aws:cloudformation:logical-id=SecurityGroup</span></li><li class="c0 c10"><span>aws:cloudformation:stack-id=arn:aws:cloudformation:us-west-2:176596526391:stack/CodeDeploySampleStack-4rocm/9b6d2710-3c6a-11e5-b1ed-500160d4da7c</span></li><li class="c0 c10"><span>aws:cloudformation:stack-name=CodeDeploySampleStack-4rocm</span></li></ul>
